<!DOCTYPE HTML>
<html>
	<head>
		<title>Timing - Life Hacking System</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta http-equiv="Content-Security-Policy" content="
			default-src 'self' 'unsafe-inline' https:; 
			img-src 'self' data: https:; 
			style-src 'self' 'unsafe-inline' https:; 
			font-src 'self' data: https:;
		">
		<meta http-equiv="X-Content-Type-Options" content="nosniff">
		<link rel="icon" type="image/x-icon" href="assets/favicon.ico">
		<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png">
		<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
		<!-- Prevent FOUC -->
		<style>
			.js-loading * {
				display: none;
			}
		</style>
		<script>
			// Add js-loading class to body
			document.documentElement.className = 'js-loading';
		</script>
		<!-- Load CSS directly -->
		<link rel="stylesheet" href="assets/css/main.css">
		<link rel="stylesheet" href="assets/css/navigation.css">
		<link rel="stylesheet" href="assets/css/noscript.css" media="none">
		<link rel="stylesheet" href="assets/css/index-style.css">
		<script>
			// Remove js-loading class when page is ready
			window.addEventListener('DOMContentLoaded', (event) => {
				document.documentElement.className = document.documentElement.className.replace('js-loading', '');
			});
		</script>
	</head>
	<body class="is-preload">
		<!-- Navigation will be loaded dynamically -->


		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<img src="images/LOGO.png" alt="Logo" />
						</div>
						<div class="content">
							<div class="inner">
								<h1>Your Life Hacking System</h1>
								<p>Harmonizing your decision-making with AI-Powered rhythm intelligence<br />
									Flow with Time, not Against it</p>
								<div class="header-cta" style="margin-top: 2em;">
									<a href="https://wj.qq.com/s2/22710377/920r/" class="cta-button" style="font-size: 1.2em; padding: 0.8em 2em; text-transform: uppercase; letter-spacing: 0.15em; animation: pulse 2s infinite;">Get Your Invitation Code</a>
								</div>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#intro">Introduction</a></li>
								<li><a href="#work">Event Timing</a></li>
								<li><a href="curve/index_curve.html?lang=en">Energy Curve</a></li>
								<li><a href="#contact">Contact</a></li>
								<!--<li><a href="#elements">Elements</a></li>-->
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Intro -->
							<article id="intro">
								<h2 class="major">To those giving life their all</h2>
								<span class="image main"><img src="images/pic01.jpg" alt="" /></span>
								<p>Have you ever tossed and turned at night, <br />
								Running full speed but feeling stuck in place? <br />
								Craving a breakthrough, yet unsure where to begin?</p>

								<p>Sometimes, it's not that you're doing it wrong —<br />
								You're just trapped in an energy dead zone.<br />
								Let Timing be your life hacking system</p>
								
								<p>Align your actions with the right energy flow,<br />
								So every step lands with purpose, every move hits the sweet spot.</p>
								
								<p>Work smarter, not harder.</p>

								<!-- Move function content here -->
								<h3 style="margin-top: 2em; color: #9f6cf7; font-size: 1.2em;">
									<span class="first-line">Energy Projection  X  Productivity Management</span>
									<span class="second-line">= Flow with Time</span>
								</h3>
								<p class="subtitle">Let energy shape your calendar</p>
								<span class="image main">
									<video autoplay muted loop playsinline preload="auto" style="width: 100%; height: auto; border-radius: 8px;" onloadstart="console.log('Video loading started')" oncanplay="console.log('Video can play')" onerror="console.log('Video error:', this.error); this.style.display='none'; this.nextElementSibling.style.display='block';">
										<source src="images/video_eng.mp4" type="video/mp4">
										Your browser does not support video playback.
									</video>
									<img src="images/pic02_eng.jpg" alt="" style="display: none;" />
								</span>
								
								<div class="features-grid">
									<div class="feature-card">
										<i class="icon solid fa-road"></i>
										<h3>Life Milestone Planning</h3>
										<p>Prepare for breakthrough moments, <br />
											steer clear of energy slumps</p>
									</div>
									
									<div class="feature-card">
										<i class="icon solid fa-brain"></i>
										<h3>AI Goal Decomposition</h3>
										<p>Breaks objectives into <br />rhythm-optimized and <br />practicable daily todos</p>
									</div>
									
									<div class="feature-card">
										<i class="icon solid fa-chart-line"></i>
										<h3>Metaphysical Quantification Engine</h3>
										<p>Translates rhythms into <br />actionable insights</p>
									</div>
									
									<div class="feature-card">
										<i class="icon solid fa-users"></i>
										<h3>Community Co-Creation</h3>
										<p>Journey with kindred souls</p>
									</div>
								</div>
							</article>

						<!-- Work -->
							<article id="work">
								<h2 class="major en-title">Event Timing</h2>
								<p class="subtitle">Choose the perfect moment for your important decisions and events</p>
								
								<form id="event-timing-form" class="event-form">
									<div class="form-group">
										<label for="event-name">Event Name</label>
										<input type="text" id="event-name" name="event-name" class="form-input" placeholder="e.g., moving, exam, etc." required>
									</div>
									
									<div class="form-group">
										<label for="start-time">Start Time Range</label>
										<input type="datetime-local" id="start-time" name="start-time" class="form-input" required>
									</div>
									
									<div class="form-group">
										<label for="end-time">End Time Range</label>
										<input type="datetime-local" id="end-time" name="end-time" class="form-input" required>
									</div>
									
									<div class="form-group">
										<label for="event-location">Location</label>
										<input type="text" id="event-location" name="event-location" class="form-input" placeholder="Enter event location" required>
									</div>
									
									<button type="submit" class="submit-btn">
										<span class="btn-text">Analyze Optimal Timing</span>
										<span class="btn-icon">
											<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
												<path d="M6 3L11 8L6 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
											</svg>
										</span>
									</button>
								</form>
								
								<!-- Event Timing Chart Section -->
								<section class="timing-chart-section" style="display: none;">
									<div class="legend">
										<div class="legend-item">
											<span class="legend-color blue"></span>
											<span>Optimal Time</span>
										</div>
										<div class="legend-item">
											<span class="legend-color purple"></span>
											<span>Good Time</span>
										</div>
										<div class="legend-item">
											<span class="legend-color pink"></span>
											<span>Avoid Time</span>
										</div>
									</div>
									<canvas id="timingChart"></canvas>
								</section>
								
								<div id="timing-result" class="result-container" style="display: none;">
									<h3>Analysis Result</h3>
									<div id="result-content"></div>
								</div>
							</article>

						<!-- About -->
							<article id="about">
								<div class="cta-section">
									<h2 class="cta-title">Start Now</h2>
									<h3 class="cta-subtitle">
										Create Your Life Hacking System <br>
										Find Your Flow <span class="highlight">Unlock Your Rhythm</span><br>
									</h3>
									<a href="https://wj.qq.com/s2/22710377/920r/" class="cta-button">Get Your Invitation Code</a>
								</div>
							</article>

						<!-- Contact -->
							<article id="contact">
								<h2 class="major">Contact</h2>
								<p class="subtitle" style="text-align: center; margin-bottom: 2em;">Fill in your email to get your Timing invitation code</p>
								<form action="https://wj.qq.com/s2/22710377/920r/" method="get">
									<div class="fields">
										<div class="field">
											<label for="name">Name</label>
											<input type="text" name="name" id="name" required placeholder="Enter your name" />
										</div>
										<!-- <div class="field">
											<label for="email">Email Address</label>
											<input type="email" name="email" id="email" required placeholder="Enter your email address" />
										</div> -->
										<div class="field">
											<label for="subject">Theme</label>
											<input type="text" name="subject" id="subject" value="Timing Invitation Code Request" readonly />
										</div>
										<div class="field">
											<label for="message">Message(Optional)</label>
											<textarea name="message" id="message" rows="4" placeholder="Anything you want to say"></textarea>
										</div>
									</div>
									<ul class="actions">
										<li><input type="submit" value="Get Invitation Code" class="primary" /></li>
									</ul>
								</form>
								<ul class="icons">
									<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
									<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
								</ul>
								<div style="height: 1em"></div>
								<div class="footnote">
									© 2025 Timing. Inspired by <a href="https://html5up.net">HTML5 UP</a>
								</div>
							</article>

					</div>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Registration Modal -->
		<div id="registration-modal" class="modal-overlay">
			<div class="modal-content">
				<button class="modal-close" onclick="closeRegistrationModal()">&times;</button>
				<div class="modal-title">
					Event Timing requires birth information,<br>
					please login or register to unlock more features and usage permissions!
				</div>
				<div class="modal-buttons">
					<a href="login.html?lang=en" class="modal-login-btn">Login</a>
					<a href="register.html?lang=en" class="modal-register-btn">Register</a>
				</div>
			</div>
		</div>

		<!-- Scripts -->
			<!-- Chart.js for timing chart -->
			<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
			<script src="assets/js/jquery.min.js"></script>
			<script>
				// Fallback to CDN if local file fails to load
				if (typeof jQuery === 'undefined') {
					document.write('<script src="https://code.jquery.com/jquery-3.6.0.min.js"><\/script>');
					// Additional fallback to a Chinese CDN
					document.write('<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"><\/script>');
				}
			</script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/auth.js"></script>

			<!-- Load navigation system -->
			<script src="assets/js/navigation-loader.js"></script>
			<script src="assets/js/navigation.js"></script>
			
			<script >
				// Logo click handler
				function goToHomePage() {
					console.log("get to go to home page");
					if (currentLanguage === 'zh') {
						window.location.href = 'index-zh.html';
					} else {
						window.location.href = 'index.html';
					}
				}
			</script>

			<script>
				// Check if user is logged in
				function isUserLoggedIn() {
					const username_token = localStorage.getItem('username_token');
					return username_token !== null;
				}

				function redirectToLogin() {
					const loginPage = window.NavigationConfig.detectLanguage() === 'en' ? 'login.html?lang=en' : 'login.html?lang=zh';
					window.location.href = loginPage;
				}

				// Event Timing Form Functionality
				document.addEventListener('DOMContentLoaded', function() {
					const eventForm = document.getElementById('event-timing-form');
					const resultContainer = document.getElementById('timing-result');
					const resultContent = document.getElementById('result-content');

					// Close modal when clicking outside
					document.getElementById('registration-modal').addEventListener('click', function(e) {
						if (e.target === this) {
							closeRegistrationModal();
						}
					});

					// Auto-fill user data if available
					try {
						const userInfo = localStorage.getItem('userInfo');
						if (userInfo) {
							const user = JSON.parse(userInfo);
							
							// Pre-fill event location with user's birth location if available
							if (user.birthLocation) {
								document.getElementById('event-location').value = user.birthLocation;
							}
						}
					} catch (error) {
						console.error('Error auto-filling user data:', error);
					}

					if (eventForm) {
						eventForm.addEventListener('submit', function(e) {
							e.preventDefault();
							
							if(!isUserLoggedIn()){
								alert(window.NavigationConfig.detectLanguage() === 'zh'? '请先登录！': 'Please log in first!');
								redirectToLogin();
								return;
							}
							
							// Get form data
							const formData = new FormData(eventForm);
							const eventData = {
								eventName: formData.get('event-name'),
								startTime: formData.get('start-time'),
								endTime: formData.get('end-time'),
								location: formData.get('event-location')
							};

							// Validate form
							if (!eventData.eventName || !eventData.startTime || !eventData.endTime || !eventData.location) {
								alert('Please fill in all required fields');
								return;
							}

							// Validate time range
							const startDate = new Date(eventData.startTime);
							const endDate = new Date(eventData.endTime);
							if (startDate >= endDate) {
								alert('End time must be later than start time');
								return;
							}

							// Show loading state
							const submitBtn = eventForm.querySelector('.submit-btn');
							const originalText = submitBtn.textContent;
							submitBtn.textContent = 'Analyzing...';
							submitBtn.disabled = true;

							// Simulate API call (replace with actual API endpoint)
							setTimeout(() => {
								// Mock response - replace with actual API call
								const mockResult = generateMockResult(eventData);
								displayResult(mockResult);
								
								// Reset button
								submitBtn.textContent = originalText;
								submitBtn.disabled = false;
							}, 2000);
						});
					}
					

					function generateMockResult(eventData) {
						// This is a mock function - replace with actual API call
						const startDate = new Date(eventData.startTime);
						const endDate = new Date(eventData.endTime);
						const optimalDate = new Date(startDate.getTime() + (endDate.getTime() - startDate.getTime()) * 0.3);
						
						return {
							optimalTime: optimalDate.toLocaleString('en-US'),
							energyScore: Math.floor(Math.random() * 30) + 70,
							recommendation: `Based on your ${eventData.eventName} analysis, we recommend conducting this event on ${optimalDate.toLocaleDateString('en-US')}.`,
							tips: [
								'This time period offers optimal energy conditions for your event',
								'We recommend preparing all necessary materials in advance',
								'Maintain a positive mindset and go with the flow'
							]
						};
					}

					function displayResult(result) {
						// Show chart first
						const chartSection = document.querySelector('.timing-chart-section');
						chartSection.style.display = 'block';
						
						// Create timing chart
						createTimingChart();
						
						resultContent.innerHTML = `
							<div style="text-align: center; margin-bottom: 1.5em;">
								<h4 style="color: #9f6cf7; margin-bottom: 0.5em;">Optimal Timing</h4>
								<p style="font-size: 1.1em; font-weight: bold;">${result.optimalTime}</p>
								<p style="color: #6f8bf7;">Energy Score: ${result.energyScore}/100</p>
							</div>
							<div style="margin-bottom: 1.5em;">
								<h4 style="color: #9f6cf7; margin-bottom: 0.5em;">Recommendation</h4>
								<p>${result.recommendation}</p>
							</div>
							<div>
								<h4 style="color: #9f6cf7; margin-bottom: 0.5em;">Tips</h4>
								<ul style="list-style: none; padding: 0;">
									${result.tips.map(tip => `<li style="margin-bottom: 0.5em; padding-left: 1em; position: relative;">
										<span style="position: absolute; left: 0; color: #9f6cf7;">•</span>
										${tip}
									</li>`).join('')}
								</ul>
							</div>
						`;
						
						resultContainer.style.display = 'block';
						chartSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}

					function createTimingChart() {
						const ctx = document.getElementById('timingChart').getContext('2d');
						
						// Generate sample data for timing analysis
						const labels = [];
						const optimalData = [];
						const goodData = [];
						const avoidData = [];
						
						// Generate 24 hours of data
						for (let i = 0; i < 24; i++) {
							labels.push(`${i}:00`);
							optimalData.push(Math.random() * 40 + 60); // 60-100
							goodData.push(Math.random() * 30 + 40); // 40-70
							avoidData.push(Math.random() * 20 + 20); // 20-40
						}
						
						new Chart(ctx, {
							type: 'line',
							data: {
								labels: labels,
								datasets: [{
									label: 'Optimal Time',
									data: optimalData,
									borderColor: '#5116b4',
									backgroundColor: 'rgba(81, 22, 180, 0.1)',
									borderWidth: 2,
									fill: true
								}, {
									label: 'Good Time',
									data: goodData,
									borderColor: '#2759ac',
									backgroundColor: 'rgba(39, 89, 172, 0.1)',
									borderWidth: 2,
									fill: true
								}, {
									label: 'Avoid Time',
									data: avoidData,
									borderColor: '#9444a3',
									backgroundColor: 'rgba(148, 68, 163, 0.1)',
									borderWidth: 2,
									fill: true
								}]
							},
							options: {
								responsive: true,
								maintainAspectRatio: false,
								scales: {
									y: {
										beginAtZero: true,
										max: 100,
										grid: {
											color: 'rgba(255, 255, 255, 0.1)'
										},
										ticks: {
											color: '#ffffff'
										}
									},
									x: {
										grid: {
											color: 'rgba(255, 255, 255, 0.1)'
										},
										ticks: {
											color: '#ffffff'
										}
									}
								},
								plugins: {
									legend: {
										display: false // Hide default legend as we have custom one
									}
								}
							}
						});
					}
				});
			</script>
	</body>
</html>
